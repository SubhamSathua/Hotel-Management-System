<div class="update-room-container">
  <!-- Header -->
  <div class="update-room-header">
    <h1 class="update-room-title">Update Room</h1>
    <button class="back-btn" (click)="goBack()">
      <span class="back-icon">←</span>
      Back to Room Management
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading room data...</p>
  </div>

  <!-- Success Message -->
  <div *ngIf="successMessage" class="success-message">
    <div class="success-icon">✅</div>
    <span>{{ successMessage }}</span>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-message">
    <div class="error-icon">❌</div>
    <span>{{ errorMessage }}</span>
  </div>

  <!-- Update Room Form -->
  <div *ngIf="!isLoading" class="form-container">
    <div class="room-info">
      <span class="room-id-label">Room ID: <strong>{{ room.id }}</strong></span>
    </div>
    
    <form (ngSubmit)="onSubmit()" #roomForm="ngForm">
      <div class="form-grid">
        <!-- Room Description -->
        <div class="form-group full-width">
          <label for="roomDesc">Room Description *</label>
          <textarea 
            id="roomDesc" 
            name="roomDesc"
            [(ngModel)]="room.roomDesc" 
            required
            rows="3"
            placeholder="Enter room description, amenities, etc."
            class="form-textarea"
            #roomDesc="ngModel"></textarea>
          <div *ngIf="roomDesc.invalid && roomDesc.touched" class="validation-error">
            Room description is required
          </div>
        </div>

        <!-- Room Type -->
        <div class="form-group">
          <label for="roomType">Room Type *</label>
          <select 
            id="roomType" 
            name="roomType"
            [(ngModel)]="room.roomType" 
            required
            class="form-select">
            <option *ngFor="let type of roomTypes" [value]="type">{{ type }}</option>
          </select>
        </div>

        <!-- Room Price -->
        <div class="form-group">
          <label for="roomPrice">Room Price (₹) *</label>
          <input 
            type="number" 
            id="roomPrice" 
            name="roomPrice"
            [(ngModel)]="room.roomPrice" 
            required
            min="1"
            step="0.01"
            placeholder="e.g., 2500.00"
            class="form-input"
            #roomPrice="ngModel">
          <div *ngIf="roomPrice.invalid && roomPrice.touched" class="validation-error">
            Room price must be greater than 0
          </div>
        </div>

        <!-- Air Conditioned -->
        <div class="form-group">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              name="airConditioned"
              [(ngModel)]="room.airConditioned"
              class="form-checkbox">
            <span class="checkbox-text">Air Conditioned</span>
          </label>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button 
          type="button" 
          class="cancel-btn" 
          (click)="goBack()"
          [disabled]="isSubmitting">
          Cancel
        </button>
        <button 
          type="button" 
          class="reset-btn" 
          (click)="resetForm()"
          [disabled]="isSubmitting">
          Reset Changes
        </button>
        <button 
          type="submit" 
          class="submit-btn"
          [disabled]="roomForm.invalid || isSubmitting">
          <span *ngIf="isSubmitting" class="loading-spinner"></span>
          {{ isSubmitting ? 'Updating...' : 'Update Room' }}
        </button>
      </div>
    </form>
  </div>
</div>